{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,mCCAO,IAAMC,EAAU,CACnBC,QAASC,SAASC,cAAc,qBAChCC,WAAYF,SAASC,cAAc,iBACnCE,SAAUH,SAASC,cAAc,mBACjCG,SAAUJ,SAASC,cAAc,kB,uHDUrC,IAAMI,EAAgB,IAAI,EAAAC,EAAAC,eAE1B,KACI,EAAAC,EAAAC,eACAC,G,CACF,MAAOC,GACLC,QAAQC,IAAIF,E,CACf,SACG,EAAAH,EAAAM,c,UAMWJ,I,OAAAK,EAAmBC,MAAAC,KAAAC,U,UAAnBH,I,OAAAA,EAAfI,EAAAvB,EAAA,CAAAuB,EAAAC,GAAAC,MAAA,SAAAC,I,IAEUC,E,kEADNzB,EAAQC,QAAQyB,UAAY,GACtBD,GAAgB,EAAAE,EAAAC,KAAIrB,EAAcsB,WACdJ,EAAcK,KAAI,SAAAC,G,OAASA,EAAMC,E,IACzCC,QAAO,W,MAACZ,EAAAvB,EAAA,CAAAuB,EAAAC,GAAAC,MAAA,SAAAW,EAAMF,G,IACtBD,EACAI,E,kFADc5B,EAAc6B,eAAeJ,G,OAA3CD,EAAKM,EAAAC,MACLH,EAAQJ,EAAMQ,OAAOT,KAAI,SAAAU,G,OAASA,EAAMC,I,KACpCC,OAAS,GACfP,EAAMQ,OAAO,EAAGR,EAAMO,OAAS,EAAG,SAEjB,IAAjBP,EAAMO,QACNP,EAAMS,KAAK,SAEf5C,EAAQC,QAAQ4C,mBAAmB,cAAc,EAAAC,EAAAC,cAAahB,EAAOI,EAAMa,KAAK,Q,2DATpDhB,G,gCAAP,I,2CAJdf,EAAmBC,MAAAC,KAAAC,U,UAiBnB6B,I,OAAAA,EAAf5B,EAAAvB,EAAA,CAAAuB,EAAAC,GAAAC,MAAA,SAAA2B,I,IAEUC,E,kEADNnD,EAAQC,QAAQyB,UAAY,GACtByB,GAAc,EAAAxB,EAAAC,KAAIrB,EAAc6C,WACdD,EAAYrB,KAAI,SAAAC,G,OAASA,EAAMC,E,IACvCC,QAAO,W,MAACZ,EAAAvB,EAAA,CAAAuB,EAAAC,GAAAC,MAAA,SAAAW,EAAMF,G,IACpBD,EACAsB,E,kFADc9C,EAAc6B,eAAeJ,G,OAA3CD,EAAKM,EAAAC,MACLe,EAAQtB,EAAMQ,OAAOT,KAAI,SAAAU,G,OAASA,EAAMC,I,KACpCC,OAAS,GACfW,EAAMV,OAAO,EAAGU,EAAMX,OAAS,EAAG,SAEjB,IAAjBW,EAAMX,QACNW,EAAMT,KAAK,SAEf5C,EAAQC,QAAQ4C,mBAAmB,cAAc,EAAAC,EAAAC,cAAahB,EAAOsB,EAAML,KAAK,Q,2DATtDhB,G,gCAAP,I,2CAJZiB,EAAiB/B,MAAAC,KAAAC,U,CApBhCpB,EAAQK,SAASiD,iBAAiB,QAAS1C,GAC3CZ,EAAQM,SAASgD,iBAAiB,S,kBAmBnBL,EAAiB/B,MAAAC,KAAAC,U","sources":["src/javascript/library.js","src/javascript/libRefs.js"],"sourcesContent":["import BigPicture from 'bigpicture';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nimport { libRefs } from './libRefs';\nimport { refs } from './refs';\nimport { renderMarkup } from './renderMarkup';\nimport { ThemoviedbAPI } from './themoviedbAPI';\nimport { getItems } from './movie-modal';\nimport { spinnerPlay, spinnerStop } from './spiner';\nimport { callfooterModal } from './footerModal';\nimport { renderGenres } from './renderGenres';\nimport { get, remove } from './localStorageUse';\nimport { paginOptions } from './paginOptions';\n\nconst themoviedbAPI = new ThemoviedbAPI();\n\ntry {\n    spinnerPlay();\n    renderWatchedMovies();\n} catch (error) {\n    console.log(error);\n} finally {\n    spinnerStop();\n}\n\nlibRefs.watchBtn.addEventListener('click', renderWatchedMovies);\nlibRefs.queueBtn.addEventListener('click', renderQueueMovies);\n\nasync function renderWatchedMovies() {\n    libRefs.library.innerHTML = '';\n    const watchedMovies = get(themoviedbAPI.WATCH_KEY);\n    const watchedMoviesIDes = watchedMovies.map(movie => movie.id);\n    watchedMoviesIDes.forEach(async id => {\n        const movie = await themoviedbAPI.fetchMovieById(id);\n        const genre = movie.genres.map(genre => genre.name);\n        if (genre.length > 2) {\n            genre.splice(2, genre.length - 1, 'Other');\n        }\n        if (genre.length === 0) {\n            genre.push('Other');\n        }\n        libRefs.library.insertAdjacentHTML('afterbegin', renderMarkup(movie, genre.join(', ')));\n    });\n}\n\nasync function renderQueueMovies() {\n    libRefs.library.innerHTML = '';\n    const queueMovies = get(themoviedbAPI.QUEUE_KEY);\n    const queueMoviesIDes = queueMovies.map(movie => movie.id);\n    queueMoviesIDes.forEach(async id => {\n        const movie = await themoviedbAPI.fetchMovieById(id);\n        const genre = movie.genres.map(genre => genre.name);\n        if (genre.length > 2) {\n            genre.splice(2, genre.length - 1, 'Other');\n        }\n        if (genre.length === 0) {\n            genre.push('Other');\n        }\n        libRefs.library.insertAdjacentHTML('afterbegin', renderMarkup(movie, genre.join(', ')));\n    });\n}\n","export const libRefs = {\n    library: document.querySelector('.gallery--library'),\n    footerLink: document.querySelector('.footer__link'),\n    watchBtn: document.querySelector('.button-watched'),\n    queueBtn: document.querySelector('.button-queue'),\n}\n\n"],"names":["$bpxeT","parcelRequire","$4f1ca7faaad88fce$export$a53e322463ec8607","library","document","querySelector","footerLink","watchBtn","queueBtn","$05dc186ade895b4b$var$themoviedbAPI","$X3bd8","ThemoviedbAPI","$ddUeE","spinnerPlay","$05dc186ade895b4b$var$renderWatchedMovies","error","console","log","spinnerStop","$05dc186ade895b4b$var$_renderWatchedMovies","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee1","watchedMovies","innerHTML","$2ZtFH","get","WATCH_KEY","map","movie","id","forEach","_callee","genre1","fetchMovieById","_ctx","sent","genres","genre","name","length","splice","push","insertAdjacentHTML","$3Dz6Y","renderMarkup","join","$05dc186ade895b4b$var$_renderQueueMovies","_callee2","queueMovies","QUEUE_KEY","genre2","addEventListener"],"version":3,"file":"library.649a3e88.js.map"}