{"mappings":"oeAAAA,EAAA,S,WCAO,MAAMC,EAAU,CACnBC,QAASC,SAASC,cAAc,qBAChCC,WAAYF,SAASC,cAAc,iBACnCE,SAAUH,SAASC,cAAc,mBACjCG,SAAUJ,SAASC,cAAc,kB,uHDUrC,MAAMI,EAAgB,IAAI,EAAAC,EAAAC,eAE1B,KACI,EAAAC,EAAAC,eACAC,G,CACF,MAAOC,GACLC,QAAQC,IAAIF,E,CACf,SACG,EAAAH,EAAAM,c,CAMJC,eAAeL,IACXZ,EAAQC,QAAQiB,UAAY,IACN,EAAAC,EAAAC,KAAIb,EAAcc,WACAC,KAAIC,GAASA,EAAMC,KACzCC,SAAQR,MAAMO,IAC5B,MAAMD,QAAchB,EAAcmB,eAAeF,GAC3CG,EAAQJ,EAAMK,OAAON,KAAIO,GAASA,EAAMC,OAC1CH,EAAMI,OAAS,GACfJ,EAAMK,OAAO,EAAGL,EAAMI,OAAS,EAAG,SAEjB,IAAjBJ,EAAMI,QACNJ,EAAMM,KAAK,SAEfjC,EAAQC,QAAQiC,mBAAmB,cAAc,EAAAC,EAAAC,cAAab,EAAOI,EAAMU,KAAK,OAAO,G,CAhB/FrC,EAAQK,SAASiC,iBAAiB,QAAS1B,GAC3CZ,EAAQM,SAASgC,iBAAiB,SAmBlCrB,iBACIjB,EAAQC,QAAQiB,UAAY,GAC5B,MAAMqB,GAAc,EAAApB,EAAAC,KAAIb,EAAciC,WACdD,EAAYjB,KAAIC,GAASA,EAAMC,KACvCC,SAAQR,MAAMO,IAC1B,MAAMD,QAAchB,EAAcmB,eAAeF,GAC3CiB,EAAQlB,EAAMK,OAAON,KAAIO,GAASA,EAAMC,OAC1CW,EAAMV,OAAS,GACfU,EAAMT,OAAO,EAAGS,EAAMV,OAAS,EAAG,SAEjB,IAAjBU,EAAMV,QACNU,EAAMR,KAAK,SAEfjC,EAAQC,QAAQiC,mBAAmB,cAAc,EAAAC,EAAAC,cAAab,EAAOkB,EAAMJ,KAAK,OAAO,G","sources":["src/javascript/library.js","src/javascript/libRefs.js"],"sourcesContent":["import BigPicture from 'bigpicture';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nimport { libRefs } from './libRefs';\nimport { refs } from './refs';\nimport { renderMarkup } from './renderMarkup';\nimport { ThemoviedbAPI } from './themoviedbAPI';\nimport { getItems } from './movie-modal';\nimport { spinnerPlay, spinnerStop } from './spiner';\nimport { callfooterModal } from './footerModal';\nimport { renderGenres } from './renderGenres';\nimport { get, remove } from './localStorageUse';\nimport { paginOptions } from './paginOptions';\n\nconst themoviedbAPI = new ThemoviedbAPI();\n\ntry {\n    spinnerPlay();\n    renderWatchedMovies();\n} catch (error) {\n    console.log(error);\n} finally {\n    spinnerStop();\n}\n\nlibRefs.watchBtn.addEventListener('click', renderWatchedMovies);\nlibRefs.queueBtn.addEventListener('click', renderQueueMovies);\n\nasync function renderWatchedMovies() {\n    libRefs.library.innerHTML = '';\n    const watchedMovies = get(themoviedbAPI.WATCH_KEY);\n    const watchedMoviesIDes = watchedMovies.map(movie => movie.id);\n    watchedMoviesIDes.forEach(async id => {\n        const movie = await themoviedbAPI.fetchMovieById(id);\n        const genre = movie.genres.map(genre => genre.name);\n        if (genre.length > 2) {\n            genre.splice(2, genre.length - 1, 'Other');\n        }\n        if (genre.length === 0) {\n            genre.push('Other');\n        }\n        libRefs.library.insertAdjacentHTML('afterbegin', renderMarkup(movie, genre.join(', ')));\n    });\n}\n\nasync function renderQueueMovies() {\n    libRefs.library.innerHTML = '';\n    const queueMovies = get(themoviedbAPI.QUEUE_KEY);\n    const queueMoviesIDes = queueMovies.map(movie => movie.id);\n    queueMoviesIDes.forEach(async id => {\n        const movie = await themoviedbAPI.fetchMovieById(id);\n        const genre = movie.genres.map(genre => genre.name);\n        if (genre.length > 2) {\n            genre.splice(2, genre.length - 1, 'Other');\n        }\n        if (genre.length === 0) {\n            genre.push('Other');\n        }\n        libRefs.library.insertAdjacentHTML('afterbegin', renderMarkup(movie, genre.join(', ')));\n    });\n}\n","export const libRefs = {\n    library: document.querySelector('.gallery--library'),\n    footerLink: document.querySelector('.footer__link'),\n    watchBtn: document.querySelector('.button-watched'),\n    queueBtn: document.querySelector('.button-queue'),\n}\n\n"],"names":["parcelRequire","$b6c7293de838b4f5$export$a53e322463ec8607","library","document","querySelector","footerLink","watchBtn","queueBtn","$a4121ea71a4b503a$var$themoviedbAPI","$9ECFy","ThemoviedbAPI","$1GioC","spinnerPlay","$a4121ea71a4b503a$var$renderWatchedMovies","error","console","log","spinnerStop","async","innerHTML","$9XPaE","get","WATCH_KEY","map","movie","id","forEach","fetchMovieById","genre1","genres","genre","name","length","splice","push","insertAdjacentHTML","$4PM3P","renderMarkup","join","addEventListener","queueMovies","QUEUE_KEY","genre2"],"version":3,"file":"library.a78ed100.js.map"}